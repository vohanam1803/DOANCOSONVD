
@{
    ViewBag.Title = "Piano";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Piano</h2>




<section id="wrap">
    <header>
        <h1>NVD Piano</h1>
        <h2>Play to relax and unleash your creativity </h2>
    </header>

    <section id="main">
        <section id="main">
            <div class="nowplaying"></div>
            <div class="bts"></div>
            <div class="piano">
                <div class="keys">
                    @*Tone 4*@
                    <div class="key" id="C4">
                        <div class="hints">C</div>
                    </div>
                    <div class="key" id="D4">
                        <div class="hints">D</div>
                    </div>
                    <div class="key" id="E4">
                        <div class="hints">E</div>
                    </div>
                    <div class="key" id="F4">
                        <div class="hints">F</div>
                    </div>
                    <div class="key" id="G4">
                        <div class="hints">G</div>
                    </div>
                    <div class="key" id="A4">
                        <div class="hints">A</div>
                    </div>
                    <div class="key" id="B4">
                        <div class="hints">B</div>
                    </div>

                    <div data-key="Db4" class="key sharp" id="Db4">
                        <div class="hints">C#</div>
                    </div>
                    <div data-key="Eb4" class="key sharp" id="Eb4">
                        <div class="hints">D#</div>
                    </div>
                    <div data-key="Gb4" class="key sharp" id="Gb4">
                        <div class="hints">F#</div>
                    </div>
                    <div data-key="Ab4" class="key sharp" id="Ab4">
                        <div class="hints">G#</div>
                    </div>
                    <div data-key="Bb4" class="key sharp" id="Bb4">
                        <div class="hints">A#</div>
                    </div>
                    @*Tone 5*@
                    <div class="key" id="C5">
                        <div class="hints">C</div>
                    </div>
                    <div class="key" id="D5">
                        <div class="hints">D</div>
                    </div>
                    <div class="key" id="E5">
                        <div class="hints">E</div>
                    </div>
                    <div class="key" id="F5">
                        <div class="hints">F</div>
                    </div>
                    <div class="key" id="G5">
                        <div class="hints">G</div>
                    </div>
                    <div class="key" id="A5">
                        <div class="hints">A</div>
                    </div>
                    <div class="key" id="B5">
                        <div class="hints">B</div>
                    </div>
                    <div data-key="Db5" class="key sharp" id="Db5">
                        <div class="hints">C#</div>
                    </div>
                    <div data-key="Eb5" class="key sharp" id="Eb5">
                        <div class="hints">D#</div>
                    </div>
                    <div data-key="Gb5" class="key sharp" id="Gb5">
                        <div class="hints">F#</div>
                    </div>
                    <div data-key="Ab5" class="key sharp" id="Ab5">
                        <div class="hints">G#</div>
                    </div>
                    <div data-key="Bb5" class="key sharp" id="Bb5">
                        <div class="hints">A#</div>
                    </div>
                    @*Tone 6*@
                    <div class="key" id="C6">
                        <div class="hints">C</div>
                    </div>
                    <div class="key" id="D6">
                        <div class="hints">D</div>
                    </div>
                    <div class="key" id="E6">
                        <div class="hints">E</div>
                    </div>
                    <div class="key" id="F6">
                        <div class="hints">F</div>
                    </div>
                    <div class="key" id="G6">
                        <div class="hints">G</div>
                    </div>
                    <div class="key" id="A6">
                        <div class="hints">A</div>
                    </div>
                    <div class="key" id="B6">
                        <div class="hints">B</div>
                    </div>
                    <div data-key="Db6" class="key sharp" id="Db6">
                        <div class="hints">C#</div>
                    </div>
                    <div data-key="Eb6" class="key sharp" id="Eb6">
                        <div class="hints">D#</div>
                    </div>
                    <div data-key="Gb6" class="key sharp" id="Gb6">
                        <div class="hints">F#</div>
                    </div>
                    <div data-key="Ab6" class="key sharp" id="Ab6">
                        <div class="hints">G#</div>
                    </div>
                    <div data-key="Bb6" class="key sharp" id="Bb6">
                        <div class="hints">A#</div>
                    </div>
                    @*Tone 7*@
                    <div class="key" id="C7">
                        <div class="hints">C</div>
                    </div>
                    <div class="key" id="D7">
                        <div class="hints">D</div>
                    </div>
                    <div class="key" id="E7">
                        <div class="hints">E</div>
                    </div>
                    <div class="key" id="F7">
                        <div class="hints">F</div>
                    </div>
                    <div class="key" id="G7">
                        <div class="hints">G</div>
                    </div>
                    <div class="key" id="A7">
                        <div class="hints">A</div>
                    </div>
                    <div class="key" id="B7">
                        <div class="hints">B</div>
                    </div>
                    <div data-key="Db7" class="key sharp" id="Db7">
                        <div class="hints">C#</div>
                    </div>
                    <div data-key="Eb7" class="key sharp" id="Eb7">
                        <div class="hints">D#</div>
                    </div>
                    <div data-key="Gb7" class="key sharp" id="Gb7">
                        <div class="hints">F#</div>
                    </div>
                    <div data-key="Ab7" class="key sharp" id="Ab7">
                        <div class="hints">G#</div>
                    </div>
                    <div data-key="Bb7" class="key sharp" id="Bb7">
                        <div class="hints">A#</div>
                    </div>
                    @*Tone 8*@
                    <div class="key" id="C8">
                        <div class="hints">C</div>
                    </div>
                    <div class="key" id="D8">
                        <div class="hints">D</div>
                    </div>
                    <div class="key" id="E8">
                        <div class="hints">E</div>
                    </div>
                    <div class="key" id="F8">
                        <div class="hints">F</div>
                    </div>
                    <div class="key" id="G8">
                        <div class="hints">G</div>
                    </div>
                    <div class="key" id="A8">
                        <div class="hints">A</div>
                    </div>
                    <div class="key" id="B8">
                        <div class="hints">B</div>
                    </div>
                    <div data-key="Db8" class="key sharp" id="Db8">
                        <div class="hints">C#</div>
                    </div>
                    <div data-key="Eb8" class="key sharp" id="Eb8">
                        <div class="hints">D#</div>
                    </div>
                    <div data-key="Gb8" class="key sharp" id="Gb8">
                        <div class="hints">F#</div>
                    </div>
                    <div data-key="Ab8" class="key sharp" id="Ab8">
                        <div class="hints">G#</div>
                    </div>
                    <div data-key="Bb8" class="key sharp" id="Bb8">
                        <div class="hints">A#</div>
                    </div>
                    @*Tone 9*@
                    <div class="key" id="C9">
                        <div class="hints">C</div>
                    </div>
                </div>


            </div>

        </section>
    </section>
</section>

<script src="~/Scripts/PianoNVD.js"></script>



<style>

    html {
        background: #000;
        font-family: 'Noto Serif', serif;
        -webkit-font-smoothing: antialiased;
        text-align: center;
    }
    .bts {
        background: #404040;
        height: 40px;
        width: 1160px;
        margin: 0 auto;
        border-radius: 4px 4px 0 0;
    }

    video#bgvid {
        position: fixed;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        z-index: -100;
        transform: translateX(-50%) translateY(-50%);
        background-size: cover;
    }

    header {
        position: relative;
        margin: 30px 0;
    }


        header:after {
            content: '';
            width: 460px;
            height: 15px;
            background: url(images/intro-div.svg) no-repeat center;
            display: inline-block;
            text-align: center;
            background-size: 70%;
        }

    h1 {
        color: #000;
        font-size: 50px;
        font-weight: 400;
        letter-spacing: 0.18em;
        text-transform: uppercase;
        margin: 0;
    }

    h2 {
        color: #000;
        font-size: 24px;
        font-style: italic;
        font-weight: 400;
        margin: 0 0 30px;
    }

    .nowplaying {
        font-size: 120px;
        line-height: 1;
        color: #eee;
        text-shadow: 0 0 5rem #028ae9;
        transition: all .07s ease;
        min-height: 120px;
    }

@*    .hints {
        margin-top: 125px;
        color:#000;
    }*@

    .keys {
        display: block;
        width: 100%;
        height: 350px;
        position: relative;
        height: 170px;
        width: 1160px;
        background: #404040;
        margin: 0 auto;
        border-radius: 0 0 4px 4px;
        @* cursor: none;
        *@
    }

    .key {
        position: relative;
        border: 4px solid black;
        border-radius: .5rem;
        transition: all .07s ease;
        display: block;
        box-sizing: border-box;
        z-index: 2;
    }
        .key:not(.sharp):hover {
            opacity: 0.8;
            cursor: pointer;
        }
        .key:not(.sharp) {
            float: left;
            width: 10%;
            height: 100%;
            background: #fff;
            width: 32px;
            height: 160px;
        }

        .key.sharp {
            position: absolute;
            width: 6%;
            height: 60%;
            background: #000;
            color: #eee;
            top: 0;
            z-index: 3;
            width: 20px;
            height: 100px;
            cursor:pointer;
        }
    .key:not(.sharp) .hints {
        margin-top: 125px;
        font-size: 12px;
    }
    .sharp .hints {
        margin-top: 72px;
        font-size: 12px;
    }

        .key[data-key="Db4"] {
            left: 2%;
        }

        .key[data-key="Eb4"] {
            left: 4.8%;
        }

        .key[data-key="Gb4"] {
            left: 10.3%;
        }

        .key[data-key="Ab4"] {
            left: 13%;
        }

        .key[data-key="Bb4"] {
            left: 15.8%;
        }

        .key[data-key="Db5"] {
            left: 21.3%;
        }

        .key[data-key="Eb5"] {
            left: 24.1%;
        }

        .key[data-key="Gb5"] {
            left: 29.6%;
        }

        .key[data-key="Ab5"] {
            left: 32.2%;
        }

        .key[data-key="Bb5"] {
            left: 35%;
        }

        .key[data-key="Db6"] {
            left: 40.6%;
        }

        .key[data-key="Eb6"] {
            left: 43.4%;
        }

        .key[data-key="Gb6"] {
            left: 48.9%;
        }

        .key[data-key="Ab6"] {
            left: 51.7%;
        }

        .key[data-key="Bb6"] {
            left: 54.4%;
        }

        .key[data-key="Db7"] {
            left: 59.8%;
        }

        .key[data-key="Eb7"] {
            left: 62.6%;
        }

        .key[data-key="Gb7"] {
            left: 68.1%;
        }

        .key[data-key="Ab7"] {
            left: 70.9%;
        }

        .key[data-key="Bb7"] {
            left: 73.7%;
        }

        .key[data-key="Db8"] {
            left: 79.1%;
        }

        .key[data-key="Eb8"] {
            left: 82%;
        }

        .key[data-key="Gb8"] {
            left: 87.5%;
        }

        .key[data-key="Ab8"] {
            left: 90.2%;
        }

        .key[data-key="Bb8"] {
            left: 93%;
        }



    .playing {
        transform: scale(.95);
        border-color: #028ae9;
        box-shadow: 0 0 1rem #028ae9;
    }

    @* .hints {
        display: block;
        width: 100%;
        opacity: 0;
        position: absolute;
        bottom: 7px;
        transition: opacity .3s ease-out;
        font-size: 20px;
    }

    *@

    @* .keys:hover .hints {
        opacity: 1;
    }

    *@
</style>

@*<script>
        const keys = document.querySelectorAll(".key"),
            note = document.querySelector(".nowplaying"),
            hints = document.querySelectorAll(".hints");
        console.log(hints);
        function playNote(e) {
            const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`),
                key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
            console.log(audio);
            if (!key) return;

            const keyNote = key.getAttribute("data-note");

            key.classList.add("playing");
            note.innerHTML = keyNote;
            audio.currentTime = 0;
            audio.play();
        }

        function removeTransition(e) {
            if (e.propertyName !== "transform") return;
            this.classList.remove("playing");
        }

        function hintsOn(e, index) {
            e.setAttribute("style", "transition-delay:" + index * 50 + "ms");
        }

        hints.forEach(hintsOn);

        keys.forEach(key => key.addEventListener("transitionend", removeTransition));

        window.addEventListener("keydown", playNote);

    </script>*@
